# プロジェクト・ロードマップ

## 長期実装計画

### Phase 1: コアインフラ ✅
- [x] TauriでRustワークスペース設定
- [x] CLI引数処理（引数なし=ヘルプ、大文字小文字区別なし拡張子）
- [x] 基本ファイル形式パーサー実装
- [x] 言語振り分けシステム設計
- [x] クロスプラットフォーム対応確認

### Phase 2: デコードエンジン ✅
- [x] Rustコア: ToHeart PAKアーカイブ展開
- [x] Rustコア: ToHeart LF2デコーダー
- [x] Rustコア: Kanon PDTデコーダー
- [ ] Rustコア: Kanon G00デコーダー
- [ ] Pythonブリッジ実装
- [ ] TypeScript/WASMブリッジ

### Phase 2.5: エンコードエンジン 🚧
- [x] Rustコア: ToHeart LF2エンコーダー（基本機能）
- [ ] **LF2圧縮最適化**: マッチング機能実装（最優先）
- [ ] Rustコア: Kanon PDTエンコーダー
- [x] 往復テスト実装
- [ ] 写真からの変換機能

### Phase 3: 可視化システム 📋
- [ ] HTML5 Canvasレンダラー
- [ ] 段階的状態管理
- [ ] タイムライン制御コンポーネント
- [ ] バイナリ/hexビューコンポーネント
- [ ] メモリ状態可視化

### Phase 4: GUI統合 📋
- [ ] Tauriウィンドウ設定
- [ ] ファイルドラッグ&ドロップ
- [ ] フォーマット自動検出
- [ ] エクスポート機能

### Phase 5: 教育機能 📋
- [ ] インタラクティブツールチップと説明
- [ ] 歴史的文脈パネル
- [ ] 開発者洞察注釈
- [ ] パフォーマンス比較

### Phase 6: 高度機能 📋
- [ ] GPU加速（CUDA/OpenCL/WebGPU）
- [ ] フォーマット変換実験
- [ ] カスタム画像処理
- [ ] バッチ処理モード

## ディレクトリ整理計画

### 現在の問題
現在のディレクトリが乱立している問題を解決する必要がある

### 目標構造
```
retro-decode/
├── src/                    # 🔄 現状維持
├── .claude/               # 🔄 現状維持  
├── docs/                  # 📝 新規：ドキュメント統合
│   ├── README.md         # メイン
│   ├── README.ja.md      # 日本語
│   ├── ARCHITECTURE.md   # アーキテクチャ
│   └── FORMATS.md        # サポート形式
├── tools/                 # 🔄 整理：開発ツール統合
│   ├── examples/         # 🔄 移動：examples/ から
│   ├── benches/          # 🔄 移動：benches/ から  
│   ├── scripts/          # 🔄 移動：scripts/ から
│   └── generators/       # 📝 新規：テストファイル生成
├── assets/               # 🔄 整理：テスト・リソース統合
│   ├── test/            # 🔄 移動：test_assets/ から
│   │   ├── generated/   # 合成ファイル（コミット可能）
│   │   ├── lf2/         # 著作物LF2（ローカルのみ）
│   │   ├── pdt/         # 著作物PDT（ローカルのみ）
│   │   └── photos/      # 📝 新規：変換用写真素材
│   └── reference/       # 📝 新規：参照実装・仕様
├── tests/                # 🔄 現状維持
├── web/                  # 🔄 現状維持
└── target/               # 🔄 現状維持
```

### 移行計画
1. **Phase 1**: 新ディレクトリ作成
2. **Phase 2**: ファイル移動スクリプト作成・実行
3. **Phase 3**: CI/CD設定更新
4. **Phase 4**: ドキュメント整理

## 優先実装計画

### 🔴 最高優先（今週）
1. **LF2圧縮最適化**: マッチング機能実装
   - 現在の圧縮率237.7%を100%以下に改善
   - 最終目標：オリジナルレベル（33.4%）
   - 期間：2-3日

### 🟡 高優先（今月）
2. **PDTエンコード実装**: PNG→PDT変換機能
   - 基本エンコード機能
   - 往復テスト成功
   - 期間：1週間

3. **写真変換機能**: フリー写真からテスト用LF2/PDT生成
   - 色減少・パレット最適化
   - ディザリング処理
   - 期間：1週間

### 🟢 中優先（来月以降）
4. **ディレクトリ整理**: 構造移行実施
5. **GUI実装開始**: Tauri統合
6. **可視化システム**: 段階的デコード表示

## マイルストーン

### 2025年7月
- **7/9**: LF2圧縮最適化完了
- **7/16**: PDTエンコード実装完了
- **7/23**: 写真変換機能実装完了
- **7/30**: ディレクトリ整理完了

### 2025年8月
- **8/15**: GUI基盤実装完了
- **8/31**: 可視化システム基本機能完了

### 2025年9月
- **9/15**: 教育機能実装完了
- **9/30**: ベータ版リリース

## 成功指標

### 技術指標
- LF2圧縮率：237.7% → 50%以下
- 往復テスト成功率：100%維持
- 全フォーマット対応：LF2, PDT, PAK

### ユーザビリティ指標
- CLI使用の簡単さ
- GUI直感性
- 教育コンテンツ理解度

### 品質指標
- テストカバレッジ：80%以上
- パフォーマンス：従来ツール同等以上
- 安定性：クラッシュなし