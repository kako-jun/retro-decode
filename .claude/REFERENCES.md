# 参考資料・リソース集

## 参考資料の配置

すべての参考資料は `~/repos/42/2025/_ref/` 内に配置されています。

## 既存デコーダー・ツール

### ToHeart関連ツール
- **`leafpak`**: ToHeart PAKアーカイブ展開ツール
- **`lfview-1.1a`**: LF2画像ビューア・デコーダー
- **特徴**: 元のPC-98時代の実装、参照用コード有り

### Kanon関連ツール  
- **`p2b_000s`**: PDT形式デコーダー
- **機能**: PDT→BMP変換、バージョン判別機能
- **参考価値**: ヘッダ解析・RLE展開ロジック

### 過去の実装
- **`egg_cli/src/apps/to_heart.ts`**: 以前のTypeScript実装
- **`egg_cli/src/apps/kanon.ts`**: 以前のTypeScript実装
- **価値**: アルゴリズム理解、エラー処理パターン

## ゲームデータ

### ToHeartシリーズ
- **`Windows95版の痕/`**: 初期バージョン、互換性テスト用
- **`Windows95版のTo Heart/`**: メインテストデータ
- **ファイル形式**: PAK, LF2, SCN
- **注意**: 著作権物のためローカル環境のみ

### Kanonシリーズ
- **`Windows95？版のKanon/`**: 初期バージョン（推定）  
- **`Windows2000？版のKanon/`**: 後期バージョン（推定）
- **ファイル形式**: PDT, G00
- **バージョン差**: PDT Ver1/Ver2の確認に重要

## 解析リソース

### ドキュメント
- **`解析.xlsx`**: フォーマット解析の詳細データ
  - バイナリ構造図
  - ヘッダ仕様
  - 圧縮アルゴリズム詳細
  - 実際のゲームファイル解析結果

### テストデータ
- **`compress/`**: 再圧縮テストファイル群
  - 圧縮率比較データ
  - アルゴリズム検証用
  - 性能ベンチマーク基準値

- **`dump/`**: 以前の解析からのランタイムダンプ
  - メモリダンプファイル
  - デバッグログ
  - 実行時状態記録

## 技術文献

### 圧縮アルゴリズム
- **"Data Compression: The Complete Reference"** - David Salomon
  - LZSS詳細解説
  - 辞書ベース圧縮理論
  - 実装最適化手法

### ゲーム開発
- **"Game Programming Patterns"** - Robert Nystrom  
  - レトロゲーム開発パターン
  - メモリ制約下での最適化
  - 状態管理パターン

### Rust言語
- **"The Rust Programming Language"** - Steve Klabnik & Carol Nichols
  - メモリ安全性
  - パフォーマンス最適化
  - エラーハンドリング

## オープンソース実装

### 画像処理
- **`image-rs`**: Rust画像処理ライブラリ
  - PNG/BMP/RAW形式サポート
  - 色変換・リサイズ機能
  - パレット処理参考実装

### アプリケーションフレームワーク
- **`tauri`**: デスクトップアプリフレームワーク
  - Rust + Web技術統合
  - クロスプラットフォーム対応
  - セキュリティ考慮設計

### シリアライゼーション
- **`serde`**: Rustシリアライゼーションライブラリ
  - バイナリ形式処理
  - 設定ファイル管理
  - API設計パターン

## 歴史的参考資料

### 1990年代PC-98ゲーム開発
- **メモリ制約**: 8MB RAM環境での最適化
- **グラフィック制約**: 256色パレット、低解像度
- **ストレージ制約**: フロッピーディスク容量制限

### 当時の開発手法
- **手動最適化**: アセンブラレベルでの性能調整
- **独自形式**: 各社固有の圧縮・暗号化形式
- **ハードウェア依存**: PC-98特有の制約活用

## 著作権・利用上の注意

### 利用可能なもの
- ✅ 解析.xlsxの技術情報
- ✅ 既存ツールのアルゴリズム参考
- ✅ 圧縮理論・実装パターン
- ✅ オープンソースライブラリ

### 制限があるもの
- ❌ ゲームファイルの配布・共有
- ❌ 著作権を含む画像・音声の利用
- ❌ 商用利用目的での著作物処理
- ⚠️ 技術解析は教育目的に限定

## リソース活用方針

### 開発フェーズ別活用
1. **アルゴリズム実装時**: 既存ツール・技術文献参照
2. **テスト・検証時**: ゲームデータで動作確認
3. **最適化時**: 圧縮データ・ベンチマーク活用
4. **文書化時**: 歴史的背景・技術的意義説明

### 品質保証
- 複数実装との比較検証
- 実際のゲームファイルでの動作確認
- 性能・品質の定量的評価
- 歴史的正確性の確保